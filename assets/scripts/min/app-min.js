$.modal.defaults={overlay:"#000",opacity:.75,zIndex:1,escapeClose:!0,clickClose:!0,closeText:"Close",closeClass:"",showClose:!1,modalClass:"modal",spinnerHtml:null,showSpinner:!0,fadeDuration:250,fadeDelay:1},$(function(){function e(e){$("#loadingInfo").text("Fetching your tide information"),$.ajax({url:"https://tide-api.herokuapp.com/"+e.coords.latitude.toFixed(2)+"N/"+e.coords.longitude.toFixed(2)+"E"}).done(function(e){$("#loading").hide(),$("#content").show(),$("#time").html(moment().format("ddd, DD MMM YYYY")),e.tides.length?e.tides.forEach(function(e){var a=$("<div>").addClass("row"),t=$("<div>").addClass("wrapper");t.append($("<div>").addClass("cell").text(e.type)),t.append($("<div>").addClass("cell").text(moment(e.time,"h:mm a").format("HH\\hmm")));var o=parseFloat(e.height).toFixed(1);t.append($("<div>").addClass("cell").text(o+"m")),a.append(t),$("#tide").append(a)}):$("#tide").append($("<div>").addClass("wrapper").text("Sorry, your location is not near a known tide station")),e.station&&($("#stationWrapper").show(),$("#station").html(e.station.location+" - "+e.station.distance+" away"))})}function a(e){switch($("#loading").hide(),$("#content").show(),e.code){case e.PERMISSION_DENIED:$("#tide").append($("<div>").addClass("wrapper").text("Location detection has been denied, please enable location services in your device settings."));break;case e.POSITION_UNAVAILABLE:$("#tide").append($("<div>").addClass("wrapper").text("Sorry, location information is unavailable at this time, please try again later."));break;case e.TIMEOUT:$("#tide").append($("<div>").addClass("wrapper").text("Sorry, we timed out trying to get your location, please try again later."));break;case e.UNKNOWN_ERROR:$("#tide").append($("<div>").addClass("wrapper").text("An unknown error occurred trying to get your location, please try again later."))}}navigator.geolocation.getCurrentPosition(e,a)});